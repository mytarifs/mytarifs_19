<%
table.init do |t|
#  t.caption = 'service_packs_by_parts'
#  t.base_name = 'service_packs_by_parts'
#  t.current_id_name = 'tarif'
#  t.pagination_per_page = 10
#  t.id_name = 'tarif'
  model_keys = t.model.collect {|row| row.keys }.flatten.uniq.collect{|key| key unless ['id'].include?(key)}.compact  
  t.heads = model_keys
#  t.heads = ['tarif', 'onetime', 'periodic'] + (model_keys - [:'tarif', 'onetime', 'periodic']).collect{|model_key| model_key.to_s.split('/').join(', ')}.sort
#  t.heads = t.heads - ['onetime'] if !model_keys.include?('onetime')
  t.set_fields do |f| 
  	model_keys.collect do |key|
      f[key]
    end
  end
end
%>
