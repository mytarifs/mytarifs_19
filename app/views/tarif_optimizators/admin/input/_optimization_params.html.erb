<%
form_item.init do |f|
  f.set_fields do |filtr_name|
	input_html = {:filtr_name => form_item.filtr_name, :class => "updatable form-control ", 
		:action_name => tarif_optimizators_admin_index_path(hash_with_region_and_privacy)}
	label_html = {:class => "control-label "}
    s = session_filtr_params(f)

  [
  	[
     label(filtr_name, "calculate_on_background", "calculate_on_background", label_html),
 	 select(filtr_name, "calculate_on_background", [["background calculation", true], ["direct calculation", false]], {:selected => s["calculate_on_background"]}, input_html ),

     label(filtr_name, "use_short_tarif_set_name", "Use_short_tarif_set_name?", label_html),
 	 select(filtr_name, "use_short_tarif_set_name", [["Yes", true], ["No, use long", false]], {:selected => s["use_short_tarif_set_name"]}, input_html ),

     label(filtr_name, "calculate_with_multiple_use", "Calculate with multiple_use of tarif_options", label_html),
 	 select(filtr_name, "calculate_with_multiple_use", [["Yes", true], ["No", false]], {:selected => s["calculate_with_multiple_use"]}, input_html ),
  	],
  	[
     label(filtr_name, "show_zero_tarif_result_by_parts", "Show zero tarif_result_by_parts?", label_html),
 	 select(filtr_name, "show_zero_tarif_result_by_parts", [["Show", true], ["Do not show", false]], {:selected => s["show_zero_tarif_result_by_parts"]}, input_html ),

     label(filtr_name, "save_current_tarif_set_calculation_history", "save current_tarif_set calculation history?", label_html),
 	 select(filtr_name, "save_current_tarif_set_calculation_history", [["Save", true], ["Do not save", false]], {:selected => s["save_current_tarif_set_calculation_history"]}, input_html ),

     label(filtr_name, "max_number_of_tarif_optimization_workers", "max number of tarif optimization workers", label_html),
     text_field(filtr_name, "max_number_of_tarif_optimization_workers", input_html.merge({:type => 'text', :value => s["max_number_of_tarif_optimization_workers"] }) ),
  	],  	
  	[
     label(filtr_name, "max_tarif_set_count_per_tarif", "Max final_tarif_set number per tarif", label_html),
     text_field(filtr_name, "max_tarif_set_count_per_tarif", input_html.merge({:type => 'text', :value => s["max_tarif_set_count_per_tarif"] }) ),

     label(filtr_name, "calculate_background_with_spawnling", "Calculate background with spawnling?", label_html),
 	 select(filtr_name, "calculate_background_with_spawnling", [["Yes", true], ["With delayed_jobs", false]], {:selected => s["calculate_background_with_spawnling"]}, input_html ),

     label(filtr_name, "calculate_performance", "calculate_performance", label_html),
 	 select(filtr_name, "calculate_performance", [["Yes", true], ["No", false]], {:selected => s["calculate_performance"]}, input_html ),
  	],  	
  	[
     label(filtr_name, "clean_cache", "clean_cache", label_html),
 	 select(filtr_name, "clean_cache", [["Yes", true], ["No", false]], {:selected => s["clean_cache"]}, input_html ),

     label(filtr_name, "calculate_with_sidekiq", "calculate_with_sidekiq", label_html),
 	 select(filtr_name, "calculate_with_sidekiq", [["Yes", true], ["No", false]], {:selected => s["calculate_with_sidekiq"]}, input_html ),  		
  	],
  ]
	    
  end
end
%>
